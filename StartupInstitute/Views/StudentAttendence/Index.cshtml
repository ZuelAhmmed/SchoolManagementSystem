@model IEnumerable<StartupInstitute.Models.StudentAttendence>

@{
    ViewBag.Title = "Index";
}

<div class="form-horizontal">

    <div class="container">

        <div class="form-group">

            <div class="col-md-8">
                <lavel class="col-md-2">From</lavel>
                <div class="col-md-6"><input class="form-control" id="datepickerFrom" type="text" placeholder="select date" /></div>
            </div>

        </div>

        <div class="form-group">

            <div class="col-md-8">
                <lavel class="col-md-2">To</lavel>
                <div class="col-md-6"><input class="form-control" id="datepickerTo" type="text" placeholder="select date" /></div>
            </div>



        </div>

        <div class="form-group">

            <div class="col-md-8">
                <div class="col-lg-offset-2 col-md-6">
                    <input id="searchButton" class="btn btn-default" type="button" value="Search" />
                </div>

            </div>
        </div>


        <table id="dataTable" class="table">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.ClassOrYears.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.TotalStudent)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.FemaleStudentNo)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.TotalPresentStudent)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.PresentFemaleStudent)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.DateTime)
                </th>
                <th></th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.ClassOrYears.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.TotalStudent)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.FemaleStudentNo)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.TotalPresentStudent)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PresentFemaleStudent)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DateTime)
                    </td>
                    <td>
                        @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
                        @Html.ActionLink("Details", "Details", new { id = item.Id }) |
                        @Html.ActionLink("Delete", "Delete", new { id = item.Id })
                    </td>
                </tr>
            }

        </table>
    </div>



</div>


@*@section Scripts{

<script src="~/Scripts/jquery-2.2.3.min.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <link rel="stylesheet" href="/resources/demos/style.css">


    <script type="text/javascript">


        $(document).ready(function () {


            $("#datepickerFrom").datepicker();
            $("#datepickerTo").datepicker();

            $("#datepickerFrom").datepicker("option", "dateFormat","dd/mm/yy");

            $("#datepickerTo").datepicker("option", "dateFormat", "dd/mm/yy");



            $("#searchButton").click(function () {

              var  fromDate = $("#datepickerFrom").datepicker("getDate");
               var toDate = $("#datepickerTo").datepicker("getDate");

               var fromDateString =fromDate.getDate()+"/"+(fromDate.getMonth()+1) + "/" + fromDate.getFullYear();
               var toDateString = toDate.getDate() + "/" + (toDate.getMonth() + 1) + "/" + toDate.getFullYear();

               var param = JSON.stringify({ from: fromDateString, to: toDateString});

               $.ajax({
                   type: "POST",
                   url: "/StudentAttendence/GetStudentsByDate",
                   data: param,
                   dataType: "json",
                   contentType: "application/json; charset=utf-8",
                   success: function (response) {
                       var alerttype = "danger";
                       if (response.message === "success") {
                          
                           alert(response.studentList);

                       }
                   },
                   error: function (jqXHR, textStatus, errorThrown) {
                      
                       alert(textStatus);
                   }
               });
                




            });



        });

    </script>




}*@



